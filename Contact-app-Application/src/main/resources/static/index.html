<!DOCTYPE html>
<html lang="en">
<head>
       <meta charset="UTF-8">
       <title>Contact Management Dashboard</title>
       <style>
           body {
               font-family: Arial, sans-serif;
               padding: 20px;
           }
         table {
               border-collapse: collapse;
               width: 100%;
           }
           th, td {
               border: 1px solid #ddd;
               padding: 8px;
            }
           th {
               background-color: #f2f2f2;
           }
       </style>
    </head>
<body>

<h2>Saved Contacts</h2>

<table id="contactsTable">
        <thead>
    <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Message</th>
        </tr>
    </thead>
        <tbody>
    <!-- Data will be injected here -->
    </tbody>
    </table>

<script>
        fetch('/contacts')
            .then(response => response.json())
            .then(data => {
                const tableBody = document.querySelector('#contactsTable tbody');

                data.forEach(contact => {
                    const row = document.createElement('tr');

                    row.innerHTML = `
                        <td>${contact.id}</td>
                        <td>${contact.name}</td>
                        <td>${contact.email}</td>
                        <td>${contact.message}</td>
                    `;

                    tableBody.appendChild(row);
                });
            })
            .catch(error => {
                console.error('Error fetching contacts:', error);
            });
    </script>

</body>
</html>
